{"name":"Haste","permission":{"default":0,"NDNjYjU4MTMyYzYy":3},"type":"script","flags":{"furnace":{"runAsGM":true}},"scope":"global","command":"let target = canvas.tokens.get(args[1]);\r\nlet speed = parseInt(target.actor.data.data.attributes.speed.value);\r\n\r\nif (args[0] === \"on\") {\r\n    let newSpeed = (speed * 2) + \"ft\";\r\n    canvas.tokens.get(args[1]).actor.update({ \"data.attributes.speed.value\": newSpeed });\r\n    canvas.tokens.get(args[1]).actor.setFlag('world', 'Haste', speed);\r\n    ChatMessage.create({ content: target.name + \" has Haste applied\" })\r\n}\r\nif (args[0] === \"off\") {\r\n    if (target.actor.getFlag('world', 'Haste')) {\r\n        let newSpeed = target.actor.getFlag('world', 'Haste')\r\n        canvas.tokens.get(args[1]).actor.update({ \"data.attributes.speed.value\": (newSpeed + \"ft\") });\r\n        canvas.tokens.get(args[1]).actor.unsetFlag('world', 'Haste');\r\n    DynamicEffects.applyActive(\"Haste\", deactivate, \"spell\")\r\n    ChatMessage.create({ content: target.name + \" has their speed returned to normal\" })\r\n    }\r\n} ","author":"NDNjYjU4MTMyYzYy","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"FnwBldfWysfl2vjr"}
